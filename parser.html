<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>parser : Documentation</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="assets_/css/shCore.css">
        <link rel="stylesheet" href="assets_/css/shThemeDefault.css">
        <link rel="stylesheet" href="assets_/css/main.css">
    </head>
    <body data-root-path="">
        <div id="wrapper">
            <div id="content">

<ul id="topnav">
    <li><a href="index.html">Index</a></li>
    <li><a href="#toc">TOC</a></li>
</ul>
<h1>parser</h1>

<p>Main functions used for the creation of the WebVTT parser.</p>

<h2>Table of Contents <a href="#toc" name="toc" class="deep-link">#</a></h2>

<ul>
<li><a href="#webvtt_create_parser">webvtt_create_parser()</a></li>
</ul>

<h2>webvtt_create_parser( webvtt_cue_fn_ptr on_read, webvtt_error_fn_ptr on_error, void * userdata, webvtt_parser *ppout ) : webvtt_status <a href="#webvtt\_create\_parser" id="webvtt\_create\_parser" class="deep-link">#</a></h2>

<p>Creates a parser using a given cue callback function pointer callback, an error callback function pointer, the raw userdata text to be parsed, and a pointer to a <code>webvtt_parser</code>. Passes the created <code>webvtt_parser</code> through <code>*ppout</code>.</p>

<p>Return values: <br />
WEBVTT_INVALID_PARAM - invalid parameters passed in to webvtt_create_parser(). <br />
WEBVTT_OUT_OF_MEMORY - unable to allocate enough memory for the <code>webvtt_parser</code>. <br />
WEBVTT_SUCCESS - <code>webvtt_parser</code> was successfully created.  </p>

<p>Example:</p>

<pre class="brush:c">

//cue callback function
static void WEBVTT_CALLBACK
cue( void *userdata, webvtt_cue cue )
{
    webvtt_parse_cuetext( cue );
}

//error callback function
static int WEBVTT_CALLBACK
error( void *userdata, webvtt_uint line, webvtt_uint col, webvtt_error errcode )
{
    fprintf(stderr, "`%s' at %u:%u -- error: %s\n", (const char *)userdata, line, col, webvtt_strerror( errcode ) );
    return -1; /* Die on all errors */
}

//int main()
const char *input_file = "sample.vtt";
webvtt_status result;
webvtt_parser vtt;
FILE *fh = fopen (input_file,"rb");
if( ( result = webvtt_create_parser( &cue, &error, (void *)input_file, &vtt ) ) != WEBVTT_SUCCESS )
{
  fprintf( stderr, "error: failed to create VTT parser.\n" );
  fclose( fh );
  return 1;
}

ret = parse_fh( fh, vtt );
webvtt_delete_parser( vtt );
fclose( fh );
return ret;
</pre>
                <hr />
                <small>Documentation generated by <a href="https://github.com/millermedeiros/mdoc">mdoc</a>.</small>
            </div>
        </div>
        <script src="assets_/js/lib/jquery.js"></script>
        <script src="assets_/js/lib/syntax-highlighter/shCore.js"></script>
        <script src="assets_/js/lib/syntax-highlighter/shAutoloader.js"></script>
        <script src="assets_/js/main.js"></script>
    </body>
</html>

